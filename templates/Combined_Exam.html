<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TCAS Prep - Mock Exam</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/combined_exam.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" type="image/png" href="../assets/images/favicon.png">
</head>
<body class="combined-exam-page">
    <!-- Menu overlay for mobile -->
    <div class="menu-overlay"></div>
    
    <!-- Header will be included here -->
    <div id="header-placeholder"></div>
    
<!-- Left Ad Banner Container -->
<div class="ad-container left">
    <div class="ad-banner">
        <img src="../assets/images/grammar_exercise.jpg" alt="English Tutors">
        <div class="ad-content">
            <h4>Expert English Tutors</h4>
            <p>One-on-one sessions with TCAS exam specialists</p>
            <a href="../templates/tutors.html" class="ad-action">Find a Tutor</a>
        </div>
        <button class="ad-close"><i class="fas fa-times"></i></button>
    </div>
    <div class="ad-banner">
        <img src="../assets/images/grammar_exercise.jpg" alt="Study Materials">
        <div class="ad-content">
            <h4>Premium Study Materials</h4>
            <p>Access exclusive TCAS English practice resources</p>
            <a href="materials.html" class="ad-action">Browse Now</a>
        </div>
        <button class="ad-close"><i class="fas fa-times"></i></button>
    </div>
</div>

    
<!-- Right Ad Banner Container -->
<div class="ad-container right">
    <div class="ad-banner">
        <img src="../assets/images/grammar_exercise.jpg" alt="Online Workshops">
        <div class="ad-content">
            <h4>TCAS English Workshops</h4>
            <p>Join our weekly online preparation classes</p>
            <a href="workshops.html" class="ad-action">Register</a>
        </div>
        <button class="ad-close"><i class="fas fa-times"></i></button>
    </div>
    <div class="ad-banner">
        <img src="../assets/images/grammar_exercise.jpg" alt="Premium Subscription">
        <div class="ad-content">
            <h4>Go Premium</h4>
            <p>Unlock all practice exams and performance analytics</p>
            <a href="premium.html" class="ad-action">Upgrade</a>
        </div>
        <button class="ad-close"><i class="fas fa-times"></i></button>
    </div>
</div>

    
    <main>
        <section id="exam-info">
            <div class="exam-info-container">
                <div class="exam-info-header">
                    <h1>ข้อสอบจำลอง A-Level ภาษาอังกฤษ</h1>
                    <p class="header-description">เลือกข้อสอบที่ต้องการทำ</p>
                </div>
                
                <!-- Exam Selection Section -->
                <div class="exam-selection">
                    <div class="exam-options">
                        <div class="exam-option active" data-exam-id="exam1">
                            <div class="exam-option-header">
                                <h3>A-Level ภาษาอังกฤษ</h3>
                                <span class="exam-date">06-05-2025</span>
                            </div>
                            <div class="exam-option-details">
                                <div class="option-metadata">
                                    <span><i class="fas fa-list-ol"></i> 80 ข้อ</span>
                                    <span><i class="fas fa-clock"></i> 90 นาที</span>
                                </div>
                                <div class="option-skill-bars">
                                    <div class="skill-bar speaking" style="width: 25%"></div>
                                    <div class="skill-bar reading" style="width: 50%"></div>
                                    <div class="skill-bar writing" style="width: 25%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="exam-option" data-exam-id="exam2">
                            <div class="exam-option-header">
                                <h3>ข้อสอบ O-NET</h3>
                                <span class="exam-date">15-04-2025</span>
                            </div>
                            <div class="exam-option-details">
                                <div class="option-metadata">
                                    <span><i class="fas fa-list-ol"></i> 60 ข้อ</span>
                                    <span><i class="fas fa-clock"></i> 60 นาที</span>
                                </div>
                                <div class="option-skill-bars">
                                    <div class="skill-bar speaking" style="width: 20%"></div>
                                    <div class="skill-bar reading" style="width: 60%"></div>
                                    <div class="skill-bar writing" style="width: 20%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="exam-option" data-exam-id="exam3">
                            <div class="exam-option-header">
                                <h3>9 วิชาสามัญ</h3>
                                <span class="exam-date">25-03-2025</span>
                            </div>
                            <div class="exam-option-details">
                                <div class="option-metadata">
                                    <span><i class="fas fa-list-ol"></i> 75 ข้อ</span>
                                    <span><i class="fas fa-clock"></i> 85 นาที</span>
                                </div>
                                <div class="option-skill-bars">
                                    <div class="skill-bar speaking" style="width: 15%"></div>
                                    <div class="skill-bar reading" style="width: 45%"></div>
                                    <div class="skill-bar writing" style="width: 40%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Exam Details Section (will be dynamically updated based on selection) -->
                <div class="exam-info-content">
                    <!-- Left column: Exam details -->
                    <div class="exam-details-column">
                        <div class="exam-card">
                            <div class="exam-card-header">
                                <i class="fas fa-info-circle"></i>
                                <h3>รายละเอียดการทดสอบ</h3>
                            </div>
                            <div class="exam-metadata-grid">
                                <div class="metadata-item">
                                    <i class="fas fa-list-ol"></i>
                                    <div class="metadata-content">
                                        <span class="metadata-label">จำนวนข้อสอบ:</span>
                                        <span id="total-questions-count" class="metadata-value">80</span>
                                    </div>
                                </div>
                                <div class="metadata-item">
                                    <i class="fas fa-clock"></i>
                                    <div class="metadata-content">
                                        <span class="metadata-label">เวลา:</span>
                                        <span id="exam-time" class="metadata-value">90 นาที</span>
                                    </div>
                                </div>
                                <div class="metadata-item">
                                    <i class="fas fa-tasks"></i>
                                    <div class="metadata-content">
                                        <span class="metadata-label">ประเภทข้อสอบ:</span>
                                        <span class="metadata-value">Multiple Categories</span>
                                    </div>
                                </div>
                                <div class="metadata-item">
                                    <i class="fas fa-chart-line"></i>
                                    <div class="metadata-content">
                                        <span class="metadata-label">ระดับความยาก:</span>
                                        <span id="exam-difficulty" class="metadata-value">ปานกลาง-ยาก</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="exam-description">
                                <p id="exam-description-th">แบบทดสอบรวมทักษะที่หลากหลาย ประกอบด้วยโจทย์บทสนทนาสั้น (3) บทสนทนายาว (1) โฆษณา (2) สินค้า (2) ข่าว (2) บทความ (2) แบบเติมคำ (3) และการจัดย่อหน้า (5)</p>
                                <p id="exam-description-en">This comprehensive exam combines all question types to simulate the full TCAS English testing experience. Each question will be labeled with its category to help you track your performance across different skills.</p>
                            </div>
                            
                            <div class="exam-benefits">
                                <div class="benefit-item">
                                    <i class="fas fa-chart-pie"></i>
                                    <span>วิเคราะห์ความสามารถของคุณแยกตามทักษะ</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-bullseye"></i>
                                    <span>ค้นพบจุดแข็งและจุดที่ต้องปรับปรุง</span>
                                </div>
                                <div class="benefit-item">
                                    <i class="fas fa-graduation-cap"></i>
                                    <span>ประเมินความพร้อมก่อนสอบจริง</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="start-exam-card">
                            <button id="start-combined-exam" class="btn-start-exam" data-current-exam="exam1">
                                <i class="fas fa-play-circle"></i>
                                <span>เริ่มทำข้อสอบ</span>
                            </button>
                            <p class="start-note">เมื่อเริ่มทำข้อสอบ นาฬิกาจะเริ่มนับเวลาทันที</p>
                        </div>
                    </div>
                    
                    <!-- Right column: Question distribution -->
                    <div class="question-distribution-column">
                        <div class="distribution-card">
                            <div class="distribution-card-header">
                                <i class="fas fa-chart-bar"></i>
                                <h3>Question Distribution</h3>
                            </div>
                            
                            <div class="distribution-skills">
                                <!-- Speaking Section -->
                                <div class="skill-section speaking">
                                    <div class="skill-header">
                                        <h4><i class="fas fa-comment"></i> Speaking</h4>
                                        <span class="skill-count">20 ข้อ</span>
                                    </div>
                                    <div class="question-types">
                                        <div class="question-type-item">
                                            <span class="question-type-indicator short-conversation">Short Conversation</span>
                                            <span class="type-count">12 ข้อ</span>
                                        </div>
                                        <div class="question-type-item">
                                            <span class="question-type-indicator long-conversation">Long Conversation</span>
                                            <span class="type-count">8 ข้อ</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Reading Section -->
                                <div class="skill-section reading">
                                    <div class="skill-header">
                                        <h4><i class="fas fa-book"></i> Reading</h4>
                                        <span class="skill-count">40 ข้อ</span>
                                    </div>
                                    <div class="question-types">
                                        <div class="question-type-item">
                                            <span class="question-type-indicator advertisement">Advertisement</span>
                                            <span class="type-count">6 ข้อ</span>
                                        </div>
                                        <div class="question-type-item">
                                            <span class="question-type-indicator product">Product</span>
                                            <span class="type-count">12 ข้อ</span>
                                        </div>
                                        <div class="question-type-item">
                                            <span class="question-type-indicator news-report">News Report</span>
                                            <span class="type-count">6 ข้อ</span>
                                        </div>
                                        <div class="question-type-item">
                                            <span class="question-type-indicator article">Article</span>
                                            <span class="type-count">16 ข้อ</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Writing Section -->
                                <div class="skill-section writing">
                                    <div class="skill-header">
                                        <h4><i class="fas fa-pen"></i> Writing</h4>
                                        <span class="skill-count">20 ข้อ</span>
                                    </div>
                                    <div class="question-types">
                                        <div class="question-type-item">
                                            <span class="question-type-indicator text-completion">Text Completion</span>
                                            <span class="type-count">15 ข้อ</span>
                                        </div>
                                        <div class="question-type-item">
                                            <span class="question-type-indicator paragraph">Paragraph</span>
                                            <span class="type-count">5 ข้อ</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="total-distribution">
                                <div class="total-item">
                                    <div class="total-label">Total Questions:</div>
                                    <div class="total-value">80</div>
                                </div>
                                <div class="distribution-bar">
                                    <div class="bar-segment speaking-segment" style="width: 25%;" title="Speaking: 4 questions (20%)"></div>
                                    <div class="bar-segment reading-segment" style="width: 50%;" title="Reading: 8 questions (40%)"></div>
                                    <div class="bar-segment writing-segment" style="width: 25%;" title="Writing: 8 questions (40%)"></div>
                                </div>
                                <div class="distribution-legend">
                                    <div class="legend-item">
                                        <span class="legend-color speaking-color"></span>
                                        <span>Speaking</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color reading-color"></span>
                                        <span>Reading</span>
                                    </div>
                                    <div class="legend-item">
                                        <span class="legend-color writing-color"></span>
                                        <span>Writing</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="exam-content" class="hidden">
            <!-- Back button repositioned outside the header -->
                <button id="back-button" class="btn-icon" aria-label="Back to exam info">
                    <i class="icon-back"></i>
                </button>
            
            <div class="exam-header">
                <div class="exam-title-container">
                    <h2 id="exam-title">Mock Exam</h2>
                    <!-- Subtitle will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div class="exam-questions-container">
                <div class="exam-timer">
                    <i class="icon-timer"></i>
                    <span id="timer-display">00:00</span>
                </div>
                
                <div class="progress-container">    
                    <div class="hidden">
                        <div class="progress-fill" id="progress-fill"></div>
                    </div>
                    <div class="progress-text" style="display: none;">
                        Question <span id="current-question">0</span>
                    </div>
                </div>
            
                <div id="exam-questions">
                    <!-- Questions will be loaded here -->
                </div>
                
                <div class="exam-navigation">
                    <button id="prev-question" class="btn secondary">ข้อก่อนหน้า</button>
                    <button id="submit-exam" class="btn accent">ส่งคำตอบ</button>
                    <button id="next-question" class="btn">ข้อต่อไป</button>
                </div>
                
                <!-- New Question Progress and Navigator -->
                <div class="question-progress-wrapper">
                    <h3>Your Progress</h3>
                    
                    <!-- Visual progress indicator -->
                    <div class="visual-progress">
                        <div class="progress-indicator">
                            <div class="progress-indicator-fill" id="visual-progress-fill"></div>
                        </div>
                        <div class="progress-stats">
                            <span id="answered-count">0</span>
                            <span id="total-question-count">0</span>
                        </div>
                    </div>
                    
                    <!-- Question navigator -->
                    <h3>Question Navigator</h3>
                    <div class="question-navigator" id="question-navigator">
                        <!-- Question buttons will be inserted here by JavaScript -->
                    </div>
                    
                    <!-- Legend -->
                    <div class="question-legend">
                        <div class="legend-item">
                            <div class="legend-color legend-current"></div>
                            <span>ขณะนี้</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color legend-answered"></div>
                            <span>เลือกคำตอบแล้ว</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color legend-unanswered"></div>
                            <span>ยังไม่เลือกคำตอบ</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="results" class="hidden">
            <h2>ผลการทดสอบ</h2>
            
            <div class="result-summary">
                <div class="score-circle">
                    <svg viewBox="0 0 36 36" class="score-chart">
                        <path class="score-circle-bg"
                              d="M18 2.0845
                                a 15.9155 15.9155 0 0 1 0 31.831
                                a 15.9155 15.9155 0 0 1 0 -31.831"/>
                        <path class="score-circle-fill"
                              d="M18 2.0845
                                a 15.9155 15.9155 0 0 1 0 31.831
                                a 15.9155 15.9155 0 0 1 0 -31.831"
                              id="score-path"/>
                        <text x="18" y="18" class="score-text" id="score">0%</text>
                        <text x="18" y="24" class="score-label-text">Score</text>
                    </svg>
                    <div class="score-label">ประสิทธิภาพรวม</div>
                </div>
                
                <div class="result-stats">
                    <div class="stat-item">
                        <span class="stat-label">ข้อทึ่ถูก: </span>
                        <span id="correct-count">0</span> / <span id="total-questions">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">เวลา:</span>
                        <span id="time-taken">00:00</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">คอมเม้นต์</span>
                        <span id="performance-text">ควรปรับปรุงอย่างเร่งด่วน</span>
                    </div>
                </div>
            </div>


            <div class="skill-scores">
                <h3>คะแนนตามทักษะ</h3>

                <div class="skill-scores-container">

                    <div class="skill-score-item">
                        <div class="skill-score-circle speaking">
                            <svg viewBox="0 0 36 36" class="score-chart">
                                <path class="score-circle-bg"
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                <path class="score-circle-fill"
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"
                                      id="speaking-score-path"/>
                                <text x="18" y="19" class="score-text" id="speaking-score">0%</text>
                                <text x="18" y="25" class="score-label-text">พูด</text>
                            </svg>
                        </div>
                        <div class="skill-info">
                            <span id="speaking-correct">0</span>/<span id="speaking-total">0</span>
                        </div>
                    </div>
                    
                    <div class="skill-score-item">
                        <div class="skill-score-circle reading">
                            <svg viewBox="0 0 36 36" class="score-chart">
                                <path class="score-circle-bg"
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                <path class="score-circle-fill"
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"
                                      id="reading-score-path"/>
                                <text x="18" y="19" class="score-text" id="reading-score">0%</text>
                                <text x="18" y="25" class="score-label-text">อ่าน</text>
                            </svg>
                        </div>
                        <div class="skill-info">
                            <span id="reading-correct">0</span>/<span id="reading-total">0</span>
                        </div>
                    </div>
                    
                    <div class="skill-score-item">
                        <div class="skill-score-circle writing">
                            <svg viewBox="0 0 36 36" class="score-chart">
                                <path class="score-circle-bg"
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"/>
                                <path class="score-circle-fill"
                                      d="M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831"
                                      id="writing-score-path"/>
                                <text x="18" y="19" class="score-text" id="writing-score">0%</text>
                                <text x="18" y="25" class="score-label-text">เขียน</text>
                            </svg>
                        </div>
                        <div class="skill-info">
                            <span id="writing-correct">0</span>/<span id="writing-total">0</span>
                        </div>
                    </div>
                    
                </div>
            </div>
            
            <div class="type-scores">
                <h3>คะแนนตามประเภทข้อสอบ</h3>
                <div class="type-breakdown-list">
                    <div class="type-breakdown-item">
                        <span class="type-name">Short Conversation</span>
                        <span class="type-score" id="short-conversation-score">0/12</span>
                    </div>
                    <div class="type-breakdown-item">
                        <span class="type-name">Long Conversation</span>
                        <span class="type-score" id="long-conversation-score">0/8</span>
                    </div>
                    <div class="type-breakdown-item">
                        <span class="type-name">Advertisement</span>
                        <span class="type-score" id="advertisement-score">0/6</span>
                    </div>  
                    <div class="type-breakdown-item">
                        <span class="type-name">Product</span>
                        <span class="type-score" id="product-score">0/12</span>
                    </div>
                    <div class="type-breakdown-item">
                        <span class="type-name">News Report</span>
                        <span class="type-score" id="news-report-score">0/8</span>
                    </div>
                    <div class="type-breakdown-item">
                        <span class="type-name">Article</span>
                        <span class="type-score" id="article-score">0/16</span>
                    </div>
                    <div class="type-breakdown-item">
                        <span class="type-name">Text Completion</span>
                        <span class="type-score" id="text-completion-score">0/15</span>
                    </div>
                    <div class="type-breakdown-item">
                        <span class="type-name">Paragraph</span>
                        <span class="type-score" id="paragraph-score">0/5</span>
                    </div>
                </div>
            </div>

                </div>
            </div>
            
            <!-- Score suggestions section -->
            <div id="score-suggestions" class="suggestions-container">
                <h3>คำแนะนำ</h3>
                <div class="suggestions-content">
                    <!-- Suggestions will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div class="result-actions">
                <button id="view-feedback" class="btn secondary">แสดงผลลัพธ์โดยละเอียด</button>
                <button id="back-to-home" class="btn accent">กลับไปหน้าหลัก</button>
                <button id="view-progress" class="btn secondary">ดูพัฒนาการ</button>
            </div>
            
            <div id="feedback" class="feedback-container hidden">
                <h3>Detailed Question Feedback</h3>
                <div class="feedback-list">
                    <!-- Feedback items will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div id="score-histogram" class="histogram-container">
                <!-- Score histogram will be inserted here by JavaScript -->
            </div>
        </section>
    </main>
    
    <!-- Footer will be included here -->
    <div id="footer-placeholder"></div>

    <script src="../assets/js/include.js"></script>
    <script src="../assets/js/scripts.js"></script>
    <script src="../assets/js/combined_exam.js"></script>
    <script src="../assets/js/ad-banner.js"></script>
</body>
</html> 